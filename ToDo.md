# To-Do
- [x] Permitir indicar en los downlinks cómo es el schedule (replace, first o last). Parece que ChirpStack no admite first.
- [x] Los parámetros que se configuran mediante downlinks individuales deben ser excluyentes para que se envíe un único downlink. Si hay operaciones que requieren el envío de varios downlinks deberán tratarse de otro modo. He derivado el envío de downlinks de configuración a la cadena de cada tipo de dispositivo. El widget envía la acción de configuración al dispositio de control, que la envía a la cadena de configuración, que gestiona directamente los atributos con guión doble (\__), pero envía a la cadena del tipo de dispositivo los atributos con guión triple (\___), que los gestiona almacenando los atributos necesarios y enviando los downlinks que sean precisos.
- [X] Trasladar la rama "Tomar posesión" de la cadena raíz a la cadena de reglas de cada tipo de nodo. Debería estar en el panel Configuración, pero como es muy dependiente del tipo de dispositivo no podría manejarse en la cadena configurarEntidad directamente, sino que habría que pasarla a la cadena del nodo en particular. raiz --> configurarEntidad --> V02_001 --> raiz nuevamente (para enviar los downlinks). También convendría agrupar todo el tema de donwlinks (actualmente en la cadena raíz, pero probablemente requiera su propia cadena a medida que vayamos creando integraciones con más plataformas).
- [ ] Permitir que un dispositivo pueda delegar en otro de un cliente diferente. Al delegar se preaprovisiona un nuevo dispositivo delegado vinculado al original mediante una relación de tipo haDelegadoEn. El propietario podrá indicar qué telemetrías, parámetros de configuración configurables por downlink y canales de downlink quiere delegar.
- [ ] ¿Qué pasa si 2 dispositivos/activos tienen el mismo nombre?
- [ ] Explorar cómo se gestionan las plantillas de los dashboards (dashboard.directive.js y src/app/components/dashboard.tpl.html) con la intención de que sólo se muestren los widgets correspondientes a las telemetrías/canales de downlink ue tenga concedidos.
- [x] Integración con Everynet
- [ ] Encapsular las alarmas típicas (cambio de estado y umbral) para que resulten más sencillos los bloques de configuración. Añadir también alarmas de tipo delta.
- [ ] Explorar la posibilidad de que el dispositivo Control actúe como un gateway que permita integrar varios dispositivos a través de él. Por ejemplo, en TTN las integraciones son a nivel de aplicación, pero en ThingsBoard las telemetrías llegan a nivel de dispositivo; podríamos usar el dispositivo Control para recibir todas las telemetrías de una aplicación y redirigirlas al dispositivo correspondiente; y en sentido contrario, es decir, dirigir los downlinks de los dispositivos hacia el dispositivo Control para que los envíe. Sería algo similar al gateway de ThingsBoard. Permitiría por ejemplo, crear dispositivos automáticamente con la primera telemetría. 
- [ ] Skill de Alexa
- [ ] Modificar el dashboard del RAK7204 para que muestre la evolución del IAQ, y para que al mostrar el card de IAQ a pantalla completa escale el tamaño de la imagen.
- [ ] Evitar que se pueda indicar un token que comience por cero al crear un delegado (ThingsBoard los elimina e intenta convertirlo en un número)
- [ ] Cuando un customer reclama un dispositivo, asignarle el dashboard correspondiente si no lo tiene ya asignado.
- [ ] En el widget personalizado de IoT 	PuertaABIERTA_CERRADA, hacer que en cada actualización adquiera el parámetro delegación en lugar de usar el recibido en los parámetros al abrir el widget
- [ ] ¿Cómo se van a desplegar las nuevas versiones de config, delegate y dashboards a los clientes?
